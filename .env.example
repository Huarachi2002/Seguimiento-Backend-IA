# ===========================================
# CONFIGURACIÓN DE VARIABLES DE ENTORNO
# ===========================================
# Copia este archivo a .env y ajusta los valores

# --- Configuración de la Aplicación ---
APP_NAME="WhatsApp AI Assistant"
APP_VERSION="1.0.0"
# Entorno: development, staging, production
ENVIRONMENT=development
# Nivel de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Puerto en el que correrá la aplicación
PORT=8000

# --- Configuración del Modelo de IA ---
# Nombre del modelo de Hugging Face a utilizar
MODEL_NAME=microsoft/DialoGPT-medium
# Dispositivo: cuda, cpu, mps (para Mac M1/M2)
DEVICE=cpu
# Ruta local donde se cachean los modelos (opcional)
MODEL_CACHE_DIR=./models

# --- Configuración de Base de Datos ---
# PostgreSQL recomendado para producción
DATABASE_URL=postgresql://user:password@localhost:5432/whatsapp_ai
# Para desarrollo, puedes usar SQLite:
# DATABASE_URL=sqlite:///./whatsapp_ai.db

# --- Configuración de Redis (para caché y sesiones) ---
# URL de conexión a Redis
# Formato: redis://[usuario:password@]host:puerto/db
REDIS_URL=redis://localhost:6379/0

# Password de Redis (opcional, dejar vacío si no hay autenticación)
REDIS_PASSWORD=

# Para Redis con autenticación:
# REDIS_URL=redis://:tu_password_aqui@localhost:6379/0

# Para Docker Compose (usar el nombre del servicio):
# REDIS_URL=redis://redis:6379/0

# Para Redis Cloud o servicios en la nube:
# REDIS_URL=redis://default:password@redis-12345.cloud.redislabs.com:12345

# Tiempo de expiración de sesiones/conversaciones en segundos
# 3600 = 1 hora, 7200 = 2 horas, 86400 = 24 horas
SESSION_EXPIRE_TIME=3600

# --- Configuración de N8N ---
# URL del webhook de n8n para enviar respuestas
N8N_WEBHOOK_URL=http://localhost:5678/webhook/whatsapp-response
# Token de autenticación para n8n (opcional pero recomendado)
N8N_API_KEY=your-n8n-api-key-here

# --- Configuración de CORS ---
# Orígenes permitidos (separados por coma)
CORS_ORIGINS=http://localhost:3000,http://localhost:5678
# Permitir credenciales
CORS_ALLOW_CREDENTIALS=true

# --- Configuración de Seguridad ---
# Clave secreta para JWT (genera una aleatoria para producción)
SECRET_KEY=your-secret-key-change-this-in-production
# Algoritmo para JWT
ALGORITHM=HS256
# Tiempo de expiración de tokens en minutos
ACCESS_TOKEN_EXPIRE_MINUTES=30

# --- Configuración del Centro Médico ---
MEDICAL_CENTER_NAME=CAÑADA DEL CARMEN
MEDICAL_CENTER_PHONE=+591-xxx-xxxx
MEDICAL_CENTER_EMAIL=contacto@canadadelcarmen.com

# --- Límites y Cuotas ---
# Máximo de tokens por respuesta
MAX_TOKENS=150
# Temperatura del modelo (0.0 - 1.0, mayor = más creativo)
TEMPERATURE=0.7
# Máximo de mensajes en historial de conversación
MAX_CONVERSATION_HISTORY=10
# Rate limiting: máximo de requests por minuto por usuario
RATE_LIMIT_PER_MINUTE=20

# --- Monitoreo y Observabilidad (opcional) ---
# SENTRY_DSN=https://your-sentry-dsn
# ENABLE_METRICS=true
